/* Custom CSS styles that extends Bootstrap framework*/

/* Custom color palette */
.bg-purple {
    background-color: rgb(173, 15, 173) !important;
}

.text-bg-purple {
    background-color: rgb(173, 15, 173) !important;
    color: white !important;
}

.bike_no_components {
    background-color: #979e9e !important; /* Enhance the secondary color for "no components" status */
    color: white !important;
}

.bike_healthy {
    background-color: #2967b9 !important; /* Enhance the info color for healthy components */
    color: white !important;
}

.bike-critical {
    background-color: #b98356 !important; /* Custom styling for the critical status bikes */
    color: white !important;
}    

/* Styling of sorting */
th[data-sort] {
    cursor: pointer;
    white-space: nowrap;} /* Prevent wrapping of text and arrow */

th[data-sort]:hover {
    background-color: #f0f0f0;}

.sort-indicator {
    display: inline-block;
    margin-left: 5px; /* Add some space between text and arrow */
    font-size: 0.8em;
    color: #999;
}
.sort-indicator::after {
    content: '\25B2\25BC';} /* Up and down arrows */

th[data-sort].sorted-asc .sort-indicator::after {
    content: '\25B2'; /* Up arrow */
    color: #333;} /* Darker color for active sort */

th[data-sort].sorted-desc .sort-indicator::after {
    content: '\25BC'; /* Down arrow */
    color: #333;} /* Darker color for active sort */

/* Styling of card hover effect */
.card.hover-effect {
    transition: transform 0.2s ease-in-out;
}
.card.hover-effect:hover {
    transform: translateY(-7px);
    transition: transform 0.3s ease;
    box-shadow: 0 10px 20px rgba(0,0,0,0.2)
}

/* Styling of input modals */
.input-modal-header {
    padding-left: 15px;
    background: linear-gradient(to right, #cccdce, rgb(188, 212, 235));
}

.input-modal-title {
    font-weight: 600;
    letter-spacing: 0.5px;
}

/* Styling of form fields */
.form-control:focus {
    box-shadow: 0 0 0 0.25rem rgba(13, 110, 253, 0.15);
    transition: box-shadow 0.2s ease-in-out;
    transform: translateY(-1px);
}

/* Date Picker Styling */

/* Styling of calendar toggle */
.date-toggle-clickable {
    cursor: pointer !important;
    pointer-events: auto !important;
    z-index: 100;
    position: relative;
}

/* Style for the date input */
.date-input-group .datepicker-input {
    border-top-right-radius: 0;
    border-bottom-right-radius: 0;
}

/* Improve the calendar icon appearance */
.date-input-group .datepicker-toggle {
    cursor: pointer;
    background-color: #f8f9fa;
    border: 1px solid #ced4da;
    border-left: none;
    padding: 0.375rem 0.75rem;
    border-top-right-radius: 0.25rem;
    border-bottom-right-radius: 0.25rem;
    transition: background-color 0.15s ease-in-out;
}

.date-input-group .datepicker-toggle:hover {
    background-color: #e9ecef;
}

/* Style the Tempus Dominus calendar */
.tempus-dominus-widget {
    box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
    border-radius: 0.5rem;
    border: 1px solid rgba(0, 0, 0, 0.125);
    background-color: #f0f7ff !important;
}

/* Style the header of the calendar */
.tempus-dominus-widget .date-container-days .date-container-header {
    background-color: #e6f2ff !important;
    border-bottom: 1px solid rgba(0, 0, 0, 0.125);
    border-top-left-radius: 0.5rem;
    border-top-right-radius: 0.5rem;
}

/* Improve the today button visibility */
.tempus-dominus-widget .date-container-days .date-container-days-today {
    background-color: #daeaff !important;
    font-weight: bold;
}

/* Style the selected date */
.tempus-dominus-widget .date-container-days .date-container-days-selected {
    background-color: #0d6efd;
    color: white;
    border-radius: 50%;
}

/* Style for hover effect on dates */
.tempus-dominus-widget .date-container-days .date-container-days-day:hover {
    background-color: #daeaff !important;
    border-radius: 50%;
    transition: background-color 0.15s ease-in-out;
}

/* Make invalid date inputs more visible */
.datepicker-input.is-invalid {
    border-color: #dc3545;
    padding-right: calc(1.5em + 0.75rem);
    background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
    background-repeat: no-repeat;
    background-position: right calc(0.375em + 0.1875rem) center;
    background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
}

/* Fix to prevent date picker from being cut off at the bottom of modals */
.modal .tempus-dominus-widget {
    z-index: 1056 !important; /* Higher than modal backdrop */
}

/* Improved button styles in the date picker */
.tempus-dominus-widget button {
    border-radius: 0.25rem;
    transition: background-color 0.15s ease-in-out;
}

.tempus-dominus-widget button:hover {
    background-color: #e9ecef;
}

/* Additional date picker selectors for comprehensive styling */
.tempus-dominus-widget header {
    background-color: #e6f2ff !important;
}

.tempus-dominus-widget .date-container-days,
.tempus-dominus-widget .time-container {
    background-color: #f0f7ff !important;
}

.tempus-dominus-widget .active,
.tempus-dominus-widget .date-container-days .active {
    background-color: #0d6efd !important;
    color: white !important;
}

.tempus-dominus-widget .month:hover,
.tempus-dominus-widget .year:hover,
.tempus-dominus-widget .decade:hover {
    background-color: #daeaff !important;
}

.tempus-dominus-widget footer button {
    background-color: #e6f2ff !important;
    border: 1px solid #c9e2ff !important;
    color: #0d6efd !important;
}

.tempus-dominus-widget footer button:hover {
    background-color: #c9e2ff !important;
}

/* Miscellaneous classes */
/* Fixed width badges for table columns */
.fixed-width-badge-incident-status {
    width: 4rem;
    display: inline-block;
    text-align: center;
}

.fixed-width-badge-incident-severity {
    width: 4rem;
    display: inline-block;
    text-align: center;
}

.fixed-width-badge-workplan-status {
    width: 4rem;
    display: inline-block;
    text-align: center;
}

.fixed-width-badge-workplan-size {
    width: 4rem;
    display: inline-block;
    text-align: center;
}

/* Custom colors for workplan tags */
.color-workplan-size-small {
    color: #1a7f37;
    background-color: #dafbe1;
    border-color: rgba(26, 127, 55, 0.4);
}

.color-workplan-size-medium {
    color: #9e6a03;
    background-color: #fff8c5;
    border-color: rgba(158, 106, 3, 0.4);
}

.color-workplan-size-large {
    color: #cf222e;
    background-color: #ffebe9;
    border-color: rgba(207, 34, 46, 0.4);
}

/* Padding to offset toggle switches */
.toggle-container-right {
    padding-right: 15px; 
}

/* Styling for markdown preview */
.workplan-preview-mode {
    min-height: 100px;
    background-color: #fcfdff;
    border: 1px solid #ced4da;
    border-radius: 0.25rem;
    padding: 0.75rem;
}

.workplan-preview-mode h1,
.workplan-preview-mode h2,
.workplan-preview-mode h3 {
    margin-top: 0;
    margin-bottom: 0.5rem;
}

.workplan-preview-mode ul,
.workplan-preview-mode ol {
    margin-bottom: 0.5rem;
}

/* Task list styling - hide bullet points for checkboxes */
.workplan-preview-mode ul.task-list {
    list-style: none;
    padding-left: 1rem;
}

.workplan-preview-mode li.task-list-item {
    list-style: none;
    margin: 0.25rem 0;
}

.workplan-preview-mode li.task-list-item::marker {
    content: none;
}

.workplan-preview-mode input.task-list-item-checkbox {
    margin-right: 0.5rem;
    margin-left: 0;
}

/* Checkbox progress indicator - donut style */
.checkbox-progress-container {
    display: inline-flex;
    align-items: center;
    font-size: 0.8rem;
    color: #495057;
    vertical-align: middle;
    margin-top: 4px; /* Consistent spacing from badges */
    justify-content: center; /* Center by default */
}

.checkbox-progress-donut {
    width: 18px;
    height: 18px;
    border-radius: 50%;
    position: relative;
    margin-right: 6px;
    background: conic-gradient(
        #0d6efd 0deg,
        #0d6efd calc(var(--progress) * 3.6deg),
        #0d6efd calc((var(--progress) + 0.5) * 3.6deg), /* Tiny gradient transition */
        #dee2e6 calc((var(--progress) + 0.5) * 3.6deg),
        #dee2e6 360deg
    );
    mask: radial-gradient(circle at center, transparent 7px, black 7px);
    -webkit-mask: radial-gradient(circle at center, transparent 7px, black 7px);
    flex-shrink: 0;
    will-change: transform; /* Better rendering */
    filter: contrast(1.1);  /* Slightly sharper edges */
    box-shadow: 0 0 0 0.5px rgba(0,0,0,0.1); /* Subtle outline for crispness */
}

.checkbox-progress-donut.complete {
    background: #198754;
}

.checkbox-progress-donut.complete::after {
    content: 'âœ“';
    position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    color: white;
    font-size: 11px;
    font-weight: bold;
}

.checkbox-progress-text {
    font-weight: 600;
    white-space: nowrap;
    color: #495057;
    line-height: 1;
}

.checkbox-progress-text.complete {
    color: #198754;
}

/* Hover effects for better visibility of donut progress indicators */
tr:hover .checkbox-progress-donut {
    background: conic-gradient(
        #0d6efd 0deg,
        #0d6efd calc(var(--progress) * 3.6deg),
        #adb5bd calc(var(--progress) * 3.6deg),
        #adb5bd 360deg
    );
}

tr:hover .checkbox-progress-text {
    color: #212529;
}

tr:hover .checkbox-progress-text.complete {
    color: #198754;
}
